<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="shoredate">
<title>Applying shoredate to other regions • shoredate</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Applying shoredate to other regions">
<meta property="og:description" content="shoredate">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shoredate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/shoredate.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/extending-shoredate.html">Applying shoredate to other regions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/isakro/shoredate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Applying shoredate to other regions</h1>
                        <h4 data-toc-skip class="author">Isak
Roalkvam</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/isakro/shoredate/blob/HEAD/vignettes/extending-shoredate.Rmd" class="external-link"><code>vignettes/extending-shoredate.Rmd</code></a></small>
      <div class="d-none name"><code>extending-shoredate.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>While <em>shoredate</em> and the method underlying it has been
developed for application in a constrained region of south-eastern
Norway, it is possible to apply it to other areas. The following
presents an example from Ørland in Trøndelag, Central Norway, for which
a new displacement curve for the later parts of the Holocene has
recently been published (Romundset and Lakeman 2019). Furthermore, all
that is needed to use the main functions of the package is a shoreline
displacement curve that describes the sea-level change at the location
of a site to be dated, and an elevation value for that site.
Consequently, it is in principle possible to extend the main
functionality of the package to any region of the world in which the
method is applicable, provided reliable data in a suitable format is
available.</p>
<p>Some caveats and notes of caution should be added here. First of all
the method will at present only work in regions which have experienced a
monotonic non-increasing relative sea-level change. That is, regions
with a continuous development of regressing or stable sea-levels.
Furthermore, as the package was originally developed to be applied along
the Skaggerrak coast of south-eastern Norway, not all of its
functionality is applicable elsewhere. The function
<code><a href="../reference/interpolate_curve.html">interpolate_curve()</a></code> involves an increasing degree of
uncertain extrapolation the further away from the spatial limit in
south-eastern Norway one moves, and both
<code><a href="../reference/interpolate_curve.html">interpolate_curve()</a></code> and <code><a href="../reference/create_isobases.html">create_isobases()</a></code> will
fail with other coordinate reference systems than WGS 84 / UTM zone 32N
(EPSG:32632).</p>
<p>Finally, the default method used for shoreline dating in the package
is based on an empirically derived estimation of the relationship
between coastal Stone Age sites and the contemporaneous shoreline in the
Skagerrak region of south-eastern Norway. Consequently, the extent to
which the same relationship characterises the site-sea relationship in
other areas of Norway, and beyond, is therefore undetermined (a possible
approach for assessing this relationship in other areas can be found in
Roalkvam 2023). However, in regions characterised by a monotonically
decreasing relative sea-level it can reasonably be assumed that the
point in time when a location emerged from the sea defines the earliest
possible date for when it could have been occupied. Consequently,
another option is to use the method to find a <em>terminus post
quem</em> date, as outlined in the main vignette, and further
demonstrated below.</p>
</div>
<div class="section level2">
<h2 id="applying-shoredate-in-ørland">Applying <em>shoredate</em> in Ørland<a class="anchor" aria-label="anchor" href="#applying-shoredate-in-%C3%B8rland"></a>
</h2>
<div class="section level3">
<h3 id="shoreline-displacement-curve-for-ørland">Shoreline displacement curve for Ørland<a class="anchor" aria-label="anchor" href="#shoreline-displacement-curve-for-%C3%B8rland"></a>
</h3>
<p>Geologically derived displacement curves are in Norway often reported
with a uniform probability between the lower and upper limit of the
possible elevation of the sea-level over time. This is also the case for
the displacement curve published for Ørland. At present, the required
format for displacement curves to be used with <em>shoredate</em> is
therefore a data frame with the columns <code>bce</code>,
<code>upperelev</code>, <code>lowerelev</code> and <code>name</code>.
Here, <code>upperelev</code> and <code>lowerelev</code> denote the
highest and lowest possible elevation for the sea-level for each year
BCE. Years BCE, defined by the column <code>bce</code>, should be given
at an interval with equal or higher resolution than that which is
desired for the resulting shoreline date. The probability between the
upper and lower elevation limits are here assumed to be uniformly
distributed.</p>
<p>The displacement curve for Ørland is provided with <em>shoredate</em>
and can be loaded with the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The packages ggplot2 and sf are explictly loaded here, instead of using the</span></span>
<span><span class="co"># package::function() syntax with each function call below.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load shoredate</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/isakro/shoredate" class="external-link">shoredate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the displacement curve for Ørland</span></span>
<span><span class="va">orland_disp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/orland_displacement_curve.rda"</span>,</span>
<span>                  package <span class="op">=</span> <span class="st">"shoredate"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print the last few rows of the Ørland displacement curve</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">orland_disp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        bce upperelev lowerelev   name</span></span>
<span><span class="co">## 5996 -4045  21.02450  20.55970 Ørland</span></span>
<span><span class="co">## 5997 -4046  21.02702  20.56243 Ørland</span></span>
<span><span class="co">## 5998 -4047  21.02954  20.56516 Ørland</span></span>
<span><span class="co">## 5999 -4048  21.03206  20.56789 Ørland</span></span>
<span><span class="co">## 6000 -4049  21.03458  20.57062 Ørland</span></span>
<span><span class="co">## 6001 -4050  21.03710  20.57336 Ørland</span></span></code></pre>
<p>This can then be plotted with <code><a href="../reference/displacement_plot.html">displacement_plot()</a></code>. The
name is here adjusted with the argument <code>target_name</code> to
something more informative, and the geologically derived displacement
curves from south-eastern Norway are excluded by specifying the
<code>displacement_curves</code> argument, as these are not of relevance
here.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/displacement_plot.html">displacement_plot</a></span><span class="op">(</span>target_curve <span class="op">=</span> <span class="va">orland_disp</span>,</span>
<span>                  target_name <span class="op">=</span> <span class="st">"Displacement curve for Ørland, Central Norway"</span>,</span>
<span>                  displacement_curves <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="extend-orland-disp-1.png" alt="plot of chunk orland-disp"><p class="caption">
plot of chunk orland-disp
</p>
</div>
<p>A note should be made that the Ørland curve was originally published
with reference to the highest astronomical tide in the region (see
Romundset and Lakeman 2019:66). To adjust this to mean sea-level, the
difference in elevation between the highest astronomical tide and the
mean sea-level has been been subtracted from the elevation values.</p>
<p>Furthermore, while variable uplift rates are also relevant for this
area, this is not corrected for in this example. The example therefore
focuses on the small area for which the curve was developed, where it
can be assumed to be directly applicable. Functionality to adjust for
variable displacement rates with <em>shoredate</em> is only accommodated
for the Skagerrak area through the function
<code><a href="../reference/interpolate_curve.html">interpolate_curve()</a></code>. Thus, if similar adjustments are to
made in other areas, this will at present therefore have to be done
independently of <em>shoredate</em>, to which the adjusted curves can
then be passed.</p>
</div>
<div class="section level3">
<h3 id="creating-maps-of-ørland">Creating maps of Ørland<a class="anchor" aria-label="anchor" href="#creating-maps-of-%C3%B8rland"></a>
</h3>
<p>Having loaded the displacement curve, this can then be directly used
to shoreline date sites in locations where it applies, provided the
elevation of the sites above present sea-level is known. First we will
create a couple of fictitious site examples, each represented by a
point, and maps of their location to demonstrate the extendibility of
the <code><a href="../reference/target_plot.html">target_plot()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create example sites</span></span>
<span><span class="va">target_points</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">532719</span>, <span class="fl">7065723</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                         <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">532896</span>, <span class="fl">7066260</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set CRS</span></span>
<span><span class="va">target_points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">target_points</span>, crs <span class="op">=</span> <span class="fl">32632</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add site names</span></span>
<span><span class="va">target_points</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Example 1"</span>, <span class="st">"Example 2"</span><span class="op">)</span></span></code></pre></div>
<p>To create a map of where Ørland and these target points are located,
one can adapt the <code><a href="../reference/target_plot.html">target_plot()</a></code> function. First, set up the
geometries to be plotted:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load in the limit of the spatial coverage in south-eastern Norway,</span></span>
<span><span class="co"># which is provided with the package</span></span>
<span><span class="va">senorway</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/spatial_limit.gpkg"</span>,</span>
<span>                                    package <span class="op">=</span> <span class="st">"shoredate"</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assign a name to this for the map legend</span></span>
<span><span class="va">senorway</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"Skagerrak limit"</span></span>
<span></span>
<span><span class="co"># Retrieve the first of the example points, to represent Ørland</span></span>
<span><span class="va">orland</span> <span class="op">&lt;-</span> <span class="va">target_points</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span></span>
<span><span class="va">orland</span><span class="op">$</span><span class="va">location</span> <span class="op">=</span> <span class="st">"Ørland"</span></span></code></pre></div>
<p>Once this has been done we can use <code><a href="../reference/target_plot.html">target_plot()</a></code> to set
up a plot. Setting <code>naturalearth_basemap</code> to TRUE downloads a
world map from <a href="https://www.naturalearthdata.com/" class="external-link uri">https://www.naturalearthdata.com/</a> using the
<code>rnaturalearth</code> package. This is stored in a temporary folder
and is deleted when the current R session is ended. The argument
<code>naturalearth_zoom</code> specifies the amount of cropping that is
done on this world map, with the provided targets as the focal point.
The argument <code>crs_epsg</code> is here the same as the default, but
is explicitly called to highlight that different coordinate reference
systems can be used. Setting the argument <code>isobases</code> to NA
means that the default isobases pertaining to south-eastern Norway are
excluded from the plot. Finally, setting <code>target_labels</code> to
FALSE excludes the labelling of the target points in the plot, which
will instead be handled with a legend in the code to follow below.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">overview_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/target_plot.html">target_plot</a></span><span class="op">(</span>targets <span class="op">=</span> <span class="va">orland</span>,</span>
<span>                      naturalearth_basemap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      naturalearth_zoom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000000</span>, <span class="fl">1000000</span><span class="op">)</span>,</span>
<span>                      crs_epsg <span class="op">=</span> <span class="fl">32632</span>,</span>
<span>                      base_col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                      base_fill <span class="op">=</span> <span class="st">"grey85"</span>,</span>
<span>                      isobases <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                      target_labels <span class="op">=</span>  <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Reading layer `ne_10m_admin_0_countries' from data source `/tmp/RtmpV7qmjP/ne_10m_admin_0_countries.shp' using driver `ESRI Shapefile'</span></span>
<span><span class="co">## Simple feature collection with 258 features and 168 fields</span></span>
<span><span class="co">## Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -180 ymin: -90 xmax: 180 ymax: 83.6341</span></span>
<span><span class="co">## Geodetic CRS:  WGS 84</span></span></code></pre>
<p>Having created a base plot, this can now be manipulated using other
functions from the package <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">overview_map</span> <span class="op">&lt;-</span> <span class="va">overview_map</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">senorway</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>col <span class="op">=</span> <span class="va">name</span><span class="op">)</span>, fill <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                   lwd <span class="op">=</span> <span class="fl">0.5</span>, show.legend <span class="op">=</span> <span class="st">"polygon"</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="co"># Replotting the point for Ørland to add it to the legend</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">orland</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">location</span><span class="op">)</span>,</span>
<span>                   col <span class="op">=</span> <span class="st">"black"</span>, shape <span class="op">=</span> <span class="fl">21</span>,</span>
<span>                   size <span class="op">=</span> <span class="fl">3</span>, show.legend <span class="op">=</span> <span class="st">"point"</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ørland"</span> <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_colour_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Skagerrak limit"</span> <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span>,</span>
<span>                               guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span></span>
<span>                                          override.aes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>              legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Location of Ørland relative to the"</span>,</span>
<span>                       <span class="st">"spatial limit in south-eastern Norway"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>When the map displaying the location of Ørland is created, we can
create a second map that shows the location of the example points,
zoomed in at Ørland, which is located at the tip of the Fosen peninsula.
While the map is fairly simple, it can nonetheless be useful to perform
this exercise to make sure everything looks as it should.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create basemap</span></span>
<span><span class="va">examples_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/target_plot.html">target_plot</a></span><span class="op">(</span>targets <span class="op">=</span> <span class="va">target_points</span>,</span>
<span>                      naturalearth_basemap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      naturalearth_zoom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15000</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>                      base_col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>                      base_fill <span class="op">=</span> <span class="st">"grey85"</span>,</span>
<span>                      isobases <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Reading layer `ne_10m_admin_0_countries' from data source `/tmp/RtmpV7qmjP/ne_10m_admin_0_countries.shp' using driver `ESRI Shapefile'</span></span>
<span><span class="co">## Simple feature collection with 258 features and 168 fields</span></span>
<span><span class="co">## Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -180 ymin: -90 xmax: 180 ymax: 83.6341</span></span>
<span><span class="co">## Geodetic CRS:  WGS 84</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add axis labels and ticks, which are not returned with target_plot()</span></span>
<span><span class="va">examples_map</span> <span class="op">&lt;-</span> <span class="va">examples_map</span> <span class="op">+</span></span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>datum <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">target_points</span><span class="op">)</span>, expand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Location of example points in Ørland"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Call overview map</span></span>
<span><span class="va">overview_map</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="extend-maps-1.png" alt="plot of chunk maps"><p class="caption">
plot of chunk maps
</p>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Call map displaying the location of the example points</span></span>
<span><span class="va">examples_map</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="extend-maps-2.png" alt="plot of chunk maps"><p class="caption">
plot of chunk maps
</p>
</div>
</div>
<div class="section level3">
<h3 id="dating-example-sites-in-ørland">Dating example sites in Ørland<a class="anchor" aria-label="anchor" href="#dating-example-sites-in-%C3%B8rland"></a>
</h3>
<p>For this example, a raster retrieved from Amazon Web Service Terrain
Tiles is used for finding the elevation of the example sites. This
follows the procedure that is outlined in the main vignette.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve raster</span></span>
<span><span class="va">target_wgs84</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">target_points</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span><span class="va">elev_raster</span> <span class="op">&lt;-</span> <span class="fu">elevatr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/elevatr/man/get_elev_raster.html" class="external-link">get_elev_raster</a></span><span class="op">(</span><span class="va">target_wgs84</span>, z <span class="op">=</span> <span class="fl">14</span>,</span>
<span>                                        verbose <span class="op">=</span> <span class="cn">FALSE</span>, src <span class="op">=</span> <span class="st">"aws"</span><span class="op">)</span></span>
<span><span class="va">elev_raster</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/project.html" class="external-link">project</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">elev_raster</span><span class="op">)</span>, <span class="st">"epsg:32632"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the raster and sites for inspection</span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">elev_raster</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">target_points</span>, col <span class="op">=</span> <span class="st">"black"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html" class="external-link">st_coordinates</a></span><span class="op">(</span><span class="va">target_points</span><span class="op">)</span> <span class="op">-</span> <span class="fl">50</span>, labels <span class="op">=</span> <span class="va">target_points</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="extend-examples-plot-1.png" alt="plot of chunk examples-plot"><p class="caption">
plot of chunk examples-plot
</p>
</div>
<p>After the raster has been loaded we can find the elevation of the
sites:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/extract.html" class="external-link">extract</a></span><span class="op">(</span><span class="va">elev_raster</span>, <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">target_points</span><span class="op">)</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 17.74340 19.53946</span></span></code></pre>
<p>This elevation is retrieved by <code><a href="../reference/shoreline_date.html">shoreline_date()</a></code> if the
raster is passed to its <code>elevation</code> argument and the sites to
be dated are provided as spatial geometries. However, to illustrate the
point that all that is needed to use <code><a href="../reference/shoreline_date.html">shoreline_date()</a></code> is a
displacement curve and knowledge of these elevations, the function is
here called by only providing the displacement curve and providing a
character vector with the name of the sites and a numerical vector with
their elevations:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">target_dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/shoreline_date.html">shoreline_date</a></span><span class="op">(</span>sites <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Example 1"</span>, <span class="st">"Example 2"</span><span class="op">)</span>,</span>
<span>                               target_curve <span class="op">=</span> <span class="va">orland_disp</span>,</span>
<span>                               elevation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">17.7</span>, <span class="fl">19.5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the results</span></span>
<span><span class="fu"><a href="../reference/shoredate_plot.html">shoredate_plot</a></span><span class="op">(</span><span class="va">target_dates</span>, multiplot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="extend-orland-dateplot-1.png" alt="plot of chunk orland-dateplot"><p class="caption">
plot of chunk orland-dateplot
</p>
</div>
</div>
<div class="section level3">
<h3 id="finding-the-earliest-possible-date">Finding the earliest possible date<a class="anchor" aria-label="anchor" href="#finding-the-earliest-possible-date"></a>
</h3>
<p>As mentioned, the above implementation assumes that the relationship
between the sites and the shoreline is characterised by the same gamma
function as that identified for sites in south-eastern Norway. At
present, the only adjustment that is possible to do to this assumed
relationship is changing the parameters for the gamma function when
calling <code><a href="../reference/shoreline_date.html">shoreline_date()</a></code>, using the argument
<code>model_parameters</code>.</p>
<p>However, as an alternative it is also possible to perform the dating
procedure without accounting for any distance between the site and the
contemporaneous shoreline. This is done by setting the parameter
<code>model</code> to “none” when calling <code><a href="../reference/shoreline_date.html">shoreline_date()</a></code>.
This thus effectively provides a <em>termnius post quem</em> date, under
the assumption that the earliest possible date for when the site was in
use is when the location of the site emerged from the sea.</p>
<p>While a <em>terminus post quem</em> date limits the further
inferential steps that can be taken, it might be more appropriate to
apply shoreline dating in this manner in regions where the relationship
between sites and the shoreline is unknown. This can potentially also be
extended to the dating of other phenomena such as rock art, or other
cases where this relationship is less certain (see e.g. Sognnes
2003).</p>
<p>Furthermore, it could also be possible to reverse this logic in
regions that have instead been subject to relative sea-level rise, where
the date for when a location was inundated can provide a <em>terminus
ante quem</em> date – the latest possible date for the use of a site.
However, implementation of <em>shoredate</em> to regions which have
experienced continuous or disjoint phases of relative sea-level rise
remains to be developed.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Finding the earliest possible date for the first example point</span></span>
<span><span class="va">earliest_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/shoreline_date.html">shoreline_date</a></span><span class="op">(</span><span class="va">target_points</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>,</span>
<span>                                target_curve <span class="op">=</span> <span class="va">orland_disp</span>,</span>
<span>                                elevation <span class="op">=</span> <span class="va">elev_raster</span>,</span>
<span>                                model <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>                                hdr_prob <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Call to plot</span></span>
<span><span class="fu"><a href="../reference/shoredate_plot.html">shoredate_plot</a></span><span class="op">(</span><span class="va">earliest_date</span>, site_name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="extend-earliest-1.png" alt="plot of chunk earliest"><p class="caption">
plot of chunk earliest
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Roalkvam, I. 2023 A simulation-based assessment of the relation
between Stone Age sites and relative sea-level change along the
Norwegian Skagerrak coast. <em>Quaternary Science Reviews</em>
299:107880. DOI: <a href="https://doi.org/10.1016/j.quascirev.2022.107880" class="external-link">10.1016/j.quascirev.2022.107880</a></p>
<p>Romundset, A. and Lakeman, T.R. 2019. Shoreline displacement at
Ørland since 6000 cal. yr BP. In <em>Environment and Settlement: Ørland
600 BC – AD 1250: Archaeological Excavations at Vik, Ørland Main Air
Base</em>, edited by Ystgaard, I. Cappelen Damm Akademisk, Oslo,
pp. 51–67. DOI: <a href="https://doi.org/10.23865/noasp.89" class="external-link">10.23865/noasp.89</a></p>
<p>Sognnes, K. 2003. On Shoreline Dating of Rock Art. <em>Acta
Archaeologica</em> 74:189–209. DOI: <a href="https://doi.org/10.1111/j.0065-001X.2003.aar740104.x" class="external-link">10.1111/j.0065-001X.2003.aar740104.x</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Isak Roalkvam.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
